<div class="bg-white container">
  <h2 class="header">{{ "NOTIFY.TITLE" | translate }}</h2>

  <div class="action-add" *ngIf="isAdmin">
    <button class="btn-add" (click)="onEdit(null)">
      <mat-icon aria-hidden="false" aria-label="Add icon" fontSet="fas" fontIcon="fa-plus" class="fa-plus"></mat-icon>
      <label class="pad-label">{{ "BUTTON.ADD" | translate }}</label>
    </button>
  </div>

  <div class="action" [hidden]="arrDelete.length === 0">
    <button (click)="onDeleteAll()">
      <mat-icon aria-hidden="false" fontSet="fas" fontIcon="fa-trash" class="fa-trash"></mat-icon>
      <label class="pad-label">{{ "NOTIFY.DELETE_LABEL" | translate }}</label>
    </button>
  </div>

  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort>
      <!-- checkAll Column -->
      <ng-container matColumnDef="checkAll" sticky>
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by checkbox all" class="w5">
          <mat-checkbox [checked]="checkedAll" (change)="onChangeCheckedAll($event)">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let element">
          <mat-checkbox [checked]="element.checkedItem" (change)="onChangeCheckedItem($event, element)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- updatedDate Column -->
      <ng-container matColumnDef="updatedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by updatedDate" class="w10">
          <!-- {{ "NOTIFY.CREATEDDATE" | translate }} -->
          <button (click)="onLoadNotify(1)" class="btn1">
            <mat-icon aria-hidden="false" matBadge="" matBadgeColor="warn" aria-label="Add icon" fontSet="fas"
              fontIcon="fa-home" class="fa-home"></mat-icon>
            <label class="pad-label">{{ "NOTIFY.COMMON" | translate }}</label>
          </button>
        </th>
        <td mat-cell *matCellDef="let element" class="{{ element.isViewed === 0 || !element.isViewed ? 'bold' : '' }}">
          {{ element.updatedDate }}
        </td>
      </ng-container>

      <!-- agencyName Column -->
      <ng-container matColumnDef="agencyName">
        <th mat-header-cell *matHeaderCellDef sortActionDescription="Sort by agencyName" class="w20">
          <!-- {{ "NOTIFY.AGENCY" | translate }} -->
          <button (click)="onLoadNotify(2)" class="btn2">
            <mat-icon aria-hidden="false" matBadge="" matBadgeColor="warn" aria-label="Add icon" fontSet="fas"
              fontIcon="fa-gift" class="fa-gift"></mat-icon>
            <label class="pad-label">{{ "NOTIFY.COUPON" | translate }}</label>
          </button>
        </th>
        <td mat-cell *matCellDef="let element" class="nowrap"
          class="{{ element.isViewed === 0 || !element.isViewed ? 'bold' : '' }}">
          {{ element.agencyName }}
        </td>
      </ng-container>

      <!-- content Column -->
      <ng-container matColumnDef="contents">
        <th mat-header-cell *matHeaderCellDef sortActionDescription="Sort by contents" class="w30">
          <!-- <button (click)="onLoadNotify(3)" class="btn3">
            <mat-icon aria-hidden="false" matBadge="" matBadgeColor="warn" aria-label="Add icon" fontSet="fas"
              fontIcon="fa-clock-rotate-left" class="fa-clock-rotate-left"></mat-icon>
            <label class="pad-label">{{ "NOTIFY.UNREAD" | translate }}</label>
          </button> -->
        </th>
        <td mat-cell *matCellDef="let element"
          class="col-content {{ element.isViewed === 0 || !element.isViewed ? 'bold' : '' }}">
          <span class="width-300">{{ element.shortContents }}</span>
          <span class="show-content-detail" (click)="showDetail(element)">{{element.showLabel}}</span>
        </td>
      </ng-container>

      <!-- fileName Column -->
      <ng-container matColumnDef="fileName">
        <th mat-header-cell *matHeaderCellDef sortActionDescription="Sort by fileName" class="pre-line w20">
          {{ "NOTIFY.FILENAME" | translate }}
        </th>
        <td mat-cell *matCellDef="let element"
          class="focus {{ element.isViewed === 0 || !element.isViewed ? 'bold' : '' }}" (click)="onDownload(element)">
          {{ element.fileName }}
          <a download="{{ element.fileName }}"></a>
        </td>
      </ng-container>

      <!-- action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef class="w15">Các thao tác</th>
        <td mat-cell *matCellDef="let element">
          <div class="center">
            <mat-icon aria-hidden="false" aria-label="Trash icon" fontSet="fas" fontIcon="{{
                isAdmin && element.sender === loginId
                  ? 'fa-pen'
                  : 'fa-circle-info'
              }}" class="fa-pen" (click)="onEdit(element)"></mat-icon>
            <!-- <mat-icon *ngIf="isAdmin" aria-hidden="false" aria-label="Trash icon" fontSet="fas" fontIcon="fa-trash"
              class="fa-trash" (click)="onDelete(element)"></mat-icon> -->
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="no-data">
        <td mat-header-cell *matHeaderCellDef [attr.colspan]="colspan">
          {{ "MESSAGE.NO_DATA" | translate }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matHeaderRowDef="['no-data']" class="text-center" [hidden]="hasData"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[10,30,100,200,500]" showFirstLastButtons
      aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
</div>